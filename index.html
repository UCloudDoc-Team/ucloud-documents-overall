<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>UCloud文档中心</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="Cache-Control" content="no-cache">
  <meta http-equiv="expires" content="Wed, 26 Feb 1997 08:21:57 GMT">
  <link rel="stylesheet" href="https://www.ucloud.cn/static/style/css/icon.min.css?v=2019102901">
  <link rel="stylesheet" href="/vendor/themes/udocs.css?v=2020030501">
</head>
<body>
    <div class="docs-header clearfix">
        <div class="docs-header-center">
        <div class="pull-left">
            <a href="/"  title="返回文档首页" class="logo-a" >
                <span class="docs-logo"></span>
            </a>        
        </div>
        <div class="pull-left">
            <ul id="topmenu">
                <li class="submenu  selected" data-href="pd">产品</li>
                <li class="submenu" data-href="api">API</li>
                <li>
                    <a target="_blank" href="http://education.ucloud.cn/modules/resource.php">教学</a>
                </li>
                <li>
                    <a target="_blank" href="https://www.ucloud.cn/site/service.html">支持</a>
                </li>
            </ul>
        </div>
        <div class="pull-right search-bar" style="float: right;">
            <form action="" onsubmit="return false;">
            <div class="header-search-wrapper">
                <div class="search-input-wrapper ">
                <span class="icon__search"></span>
                <input type="search" autocomplete="off" class="nav-search-key search-input" placeholder="请输入搜索内容" onfocus="if(placeholder=='请输入搜索内容') {placeholder=''}" onblur="if (value=='') {placeholder='请输入搜索内容'}"   id="searchbtn"/> 
              </div>
            </div> 
            <span class="search_shutdown search_goback">取消</span>
            </form>
        </div>
        </div>
        <div id="menudropdowns"> 
            <div class="nav-menu-dropdown clearfix" id="pd">
                    <div class="nav-menu-wrap">
                        <div class="nav-hotprods">
                            <div class="nmain">
                            </div>
                        </div>
                        <div class="wrap_pd_list">
                            <div  class="nmain">
                                    <ul class="enterbox">
                                    </ul>
                            </div>
                        </div>
                        <div class="nmain">
                            <span class="mobile-nav-btn icon__cross"></span>
                        </div> 
                    </div>
            </div>
            <div class="nav-menu-dropdown clearfix" id="api">
                <div class="nav-menu-wrap">
                    <div class="nav-hotprods">
                    <div class="nmain">
                    </div>
                    </div>
                    <div class="wrap_pd_list">
                        <div  class="nmain">
                            <ul class="enterbox">
                            </ul>
                    </div>
                        </div>
                        <div class="nmain">
                            <span class="mobile-nav-btn icon__cross"></span>
                        </div>
                </div>
            </div>
        </div>  
    </div>
  <div id="app">     
  </div>
  <script type="text/javascript" src="/vendor/js/jquery-1.7.1.min.js"></script>
  <script>
    window.$docsify = {
      routerMode: 'history',
      loadSidebar: true,
      homepage: 'home.md',
      basePath:'/',
      notFoundPage:'404.md',
      noEmoji: true,
      auto2top: true,
      executeScript: true,
      requestHeaders:{
       'cache-control':'no-cache',
       'pragma':'no-store'
      },
      alias: {
        '/api/(.*\/)(.*\/)(.*\/)_sidebar.md':'/api/$1_sidebar.md',
        '/api/(.*\/)(.*\/)_sidebar.md':'/api/$1_sidebar.md',
        '/api/(.*\/)_sidebar.md':'/api/$1_sidebar.md',
        '/(.*\/)(.*\/)(.*\/)(.*\/)_sidebar.md': '$1_sidebar.md',
        '/(.*\/)(.*\/)(.*\/)_sidebar.md': '$1_sidebar.md',
        '/(.*\/)(.*\/)_sidebar.md': '$1_sidebar.md',
        '/(.*\/)_sidebar.md': '$1_sidebar.md',
        '/(.*).html': '$1'

      },
      copyCode: {
         buttonText : 'Copy',
         errorText  : 'Error',
         successText: 'Success'
      },
      plugins: [
        function (hook, vm) {
          hook.beforeEach(function (html) {
            url = vm.route.file.split('/')
            githuburl = "https://github.com/UCloudDocs/" + url[1]  
            var editHtml = '<a href="' + githuburl + '" target="_blank" class="github_btn icon__Github xpath_not"><span class="github_btn_title">前往github</span></a>\n'
            return editHtml+ html +'\n<div class="page-footer-copyright"><p><a class="xpath_not">Copyright © 2012-2020 UCloud 优刻得科技股份有限公司</a><a class="xpath_not" target="_blank" href="http://www.beian.miit.gov.cn/publish/query/indexFirst.action">沪ICP备12020087号</a></p><p><a class="wwwbtn xpath_not" target="_blank"  href="https://www.ucloud.cn/">进入官网</a></p></div>'
              
          })

          hook.doneEach(function() {
            url = vm.route.file.split('/')
            //修复带有图片的页面锚点不准确的问题
            if(vm.route.query.id){
                $('.sidebar-nav a').each(function(){
                    var sidea = $(this).attr('href');
                    if($.trim(sidea)== $.trim(vm.route.path)){
                        $(this).parent('li').addClass('active');
                    }
                });
                var t_img; // 定时器
                var isLoad = true; // 控制变量

                // 判断图片加载状况，加载完成后回调
                isImgLoad(function(){
                    var scrollheight;
                    if($("#"+vm.route.query.id).length>0){
                        scrollheight = $("#"+vm.route.query.id).offset().top + "px";
                    }
                    $("html, body").animate({
                        //scrollTop:  scrollheight
                    }, {
                        duration: 500,
                        easing: "swing"
                    });
                });

                // 判断图片加载的函数
                function isImgLoad(callback){
                    $('.content img').each(function(){
                        // 找到为0就将isLoad设为false，并退出each
                        if(this.height === 0){
                            isLoad = false;
                            return false;
                        }
                    });
                    // 为true，没有发现为0的。加载完毕
                    if(isLoad){
                        clearTimeout(t_img); // 清除定时器
                        // 回调函数
                        callback();
                        // 为false，因为找到了没有加载完成的图，将调用定时器递归
                    }else{
                        isLoad = true;
                        t_img = setTimeout(function(){
                        isImgLoad(callback); // 递归扫描
                        },500); // 我这里设置的是500毫秒就扫描一次，可以自己调整
                    }
                }
            };

            //当前页面锚点定位
            $('.content a,.content h').on('click',function(){
                if(typeof(vm.route.query.id)=='undefined'){
                    $('.sidebar-nav a').each(function(){
                    var sidea = $(this).attr('href');
                    if($.trim(sidea)== $.trim(vm.route.path)){
                        $(this).parent('li').addClass('actives');
                    }
                    });
                }  
            });
            //首页导航交互
            datapage = window.location.pathname;
            if($.trim(datapage)==$.trim('/') ){
              $('body').addClass('homepage');
              $("#topmenu>li:nth-child(-n+2)").addClass('homesubmenu ').removeClass('submenu');
              $("#topmenu>li:first-child").addClass('homeselected');
              $("#topmenu>li").removeClass('selected');
              $("#menudropdowns").hide();
              $(".homesubmenu").on('click',function(){
                var homehref = $(this).data("href");
                $(this).addClass("homeselected").siblings().removeClass("homeselected");
                $('.content .nav-menu-wrap').removeClass("show");
                $('.content #' + homehref).find('.nav-menu-wrap').eq(0).addClass('show').siblings().removeClass("show");
              })
            }
            else{
              $('body').removeClass('homepage');
              $("#topmenu>li:nth-child(-n+2)").addClass('submenu').removeClass('homesubmenu homeselected');
              $("#menudropdowns").show();
              if($.trim(url[1])==$.trim('api')){
                $("#topmenu>li:nth-child(2)").addClass('selected').siblings().removeClass("selected");
              }else{
                $("#topmenu>li:first-child").addClass('selected').siblings().removeClass("selected");
              } 
            }; 

            //下拉菜单中的a链接点击后，下拉菜单消失
            $('.docs-header #menudropdowns .nav-menu-wrap a').click(function(){
                $('.nav-menu-wrap').removeClass('show');
            });

            //table布局
            $('table').wrap("<div class='table-box'></div>");
             
            //首页瀑布流
            if($.trim(datapage)==$.trim('/')){
             //导航内容生成
                $.ajax({
                    type:"GET",
                    url:"/nav.json",
                    cache: false,
                    dataType:"json",
                    success:function(data){
                        var pdList = data.pd;
                        var pdHotprods = data.hotprods;
                        var pdgethtml = generatStru(pdList);
                        var pdHotprodshtml = generatHotprods(pdHotprods);
                        $("#pd .wrap_pd_list .enterbox").html(pdgethtml);
                        $("#pd .nav-hotprods .nmain").html(pdHotprodshtml);
                    }
                });
                $.ajax({
                    type:"GET",
                    url:"/api/apinav.json",
                    cache: false,
                    dataType:"json",
                    success:function(data){
                        var apiList = data.api;
                        var apiHotprods = data.hotprods;
                        var apigethtml = generatStru(apiList);
                        var apiHotprodshtml = generatHotprods(apiHotprods);
                        $("#api .wrap_pd_list .enterbox").html(apigethtml);
                        $("#api .nav-hotprods .nmain").html(apiHotprodshtml);
                    }
                });
                function generatHotprods (ctx){
                    var generatHtmlChild = '';
                        $.each(ctx,function(){ 
                            generatHtmlChild +='<a class="hotprods" target="_blank" href="'+this.url+'"><img class="img" src="'+this.imglinks+'"><p class="title">'+this.title+'</p><p class="des">'+this.des+'</p></a>'; 
                        })
                    return generatHtmlChild;
                };
                function generatStru (ctx){
                    var generatHtmlChild = '';
                        $.each(ctx,function(){ 
                            generatHtmlChild +='<li class="wflowBox"><div class="pd_sort_head">'+this.listname+'</div><ul>';
                            $.each(this.listvalue,function(){
                                generatHtmlChild +='<li><a href="'+this.links+'">'+this.name+'</a></li>';
                            }) 
                            generatHtmlChild +='</ul></li>';    
                        })
                    return generatHtmlChild;
                };
            }
            setTimeout(function(){
                function arrangement(box,boxContent){
                    var listwidth = box.eq(0).outerWidth(true)? box.eq(0).outerWidth(true): 292;
                    var dockerwidth = $('.content .wrap_pd_list .nmain').eq(0).width() > $('.content .wrap_pd_list .nmain').eq(1).width() ? $('.content .wrap_pd_list .nmain').eq(0).width() : $('.content .wrap_pd_list .nmain').eq(1).width();
                    var num = Math.floor(dockerwidth / listwidth),
                    columnHeightArr = [];
                    if(listwidth >= 242){
                        if((dockerwidth - listwidth * num - listwidth + 40) >= 0){
                            num = num+1;
                        }
                    }
                
                    if(num >=1 && num <=3){
                        columnHeightArr.length = num;
                        box.each(function(index,item){
                            if (index < num) {
                                if(index == 0){
                                    $(item).css({"position":"relative","top":0,"left":0});
                                }else{
                                    $(item).css({"position":"relative","top":0,"left":0,"width":listwidth - 40 + "px"});
                                }
        　　　　                 columnHeightArr[index] = $(item).position().top + $(item).outerHeight(true);
        　　                 } else {
        　　　　                 var minHeight = Math.min.apply(null, columnHeightArr),
                                    minHeightIndex = $.inArray(minHeight, columnHeightArr);
        　　　　                 $(item).css({
               　　                 position: 'absolute',
               　　                 top: minHeight,
               　　                 left: box.eq(minHeightIndex).position().left,
                                    width : listwidth - 40 + "px"
                                });
        　　　　                 columnHeightArr[minHeightIndex] += $(item).outerHeight(true);
        　　                 }
                        })
                        boxContent.css('minHeight',Math.max.apply(null, columnHeightArr));
                    }
                };
                if($.trim(datapage)==$.trim('/') ){
                    var pdboxArr = $('.content #pd .wrap_pd_list .wflowBox'),
                        pbboxcontent = $('.content #pd .wrap_pd_list'),
                        apiboxArr = $('.content #api .wrap_pd_list .wflowBox'),
                        apiboxcontent = $('.content #api .wrap_pd_list');
                    arrangement(pdboxArr,pbboxcontent);
                    $("#topmenu li[data-href='api']").on('click',function(){
                        arrangement(apiboxArr,apiboxcontent);
                    });
                    $("#topmenu li[data-href='pd']").on('click',function(){
                        arrangement(pdboxArr,pbboxcontent);
                 });
                    $(window).resize(function () {
                        arrangement(pdboxArr,pbboxcontent);
                        arrangement(apiboxArr,apiboxcontent);
                    });
            };
            },600);

          })
        }
      ],
      pagination: {
        previousText: 'PREVIOUS',
        nextText: 'NEXT',
        crossChapter: true
      }
    }
  </script>
  <script type="text/javascript" src="/vendor/js/header_bak.js?v=2020030501"></script>
  <script type="text/javascript" src="/vendor/js/docsify.min.js"></script>
  <script type="text/javascript" src="/vendor/js/zoom-image.js"></script>
  <script type="text/javascript" src="/vendor/js/docsify-copy-code.min.js"></script>
  <script type="text/javascript" src="/vendor/js/docsify-pagination.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-c.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-cpp.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-go.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-json.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-java.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-lua.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-python.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-bash.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-sql.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-yaml.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-php.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-hcl.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-swift.min.js"></script>
  <script type="text/javascript" src="/vendor/js/prism-objectivec.min.js"></script>
  <script src="/vendor/js/tabs.js"></script>
  <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1469719,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
</body>
</html>
