$(document).ready(function(){function a(a){var b="";return $.each(a,function(){b+='<li class="wflowBox"><div class="pd_sort_head">'+this.listname+"</div><ul>",$.each(this.listvalue,function(){b+='<li><a href="'+this.links+'">'+this.name+"</a></li>"}),b+="</ul></li>"}),b}$.getJSON("/nav.json",function(b){var c=b.pd,d=b.api,e=a(c),f=a(d);$("#pd .wrap_pd_list .enterbox").html(e),$("#api .wrap_pd_list .enterbox").html(f)}),function(a){var b={$wrapper:a(".docs-header"),$toggles:a("#topmenu>.submenu"),$subMenus:a("#menudropdowns>.nav-menu-dropdown>.nav-menu-wrap"),timer:null,delay:100,getSub:function(b){return a("#"+b.data("href")).find(".nav-menu-wrap").eq(0)},addClassOnly:function(a,b){return a.addClass(b).siblings().removeClass(b)},navLocation:function(){var b=window.location.pathname.split("/")[1];a.trim(b)==a.trim("api")?a("#topmenu>li").each(function(){var b=a(this).data("href");if(a.trim(b)==a.trim("api"))return a(this).addClass("selected").siblings().removeClass("selected"),!1}):a("#topmenu>li:first-child").addClass("selected").siblings().removeClass("selected")},arrangement:function(b,c){var d=b.eq(0).outerWidth(!0)?b.eq(0).outerWidth(!0):242,e=a(".docs-header .wrap_pd_list .nmain").eq(0).width()>a(".docs-header .wrap_pd_list .nmain").eq(1).width()?a(".docs-header .wrap_pd_list .nmain").eq(0).width():a(".docs-header .wrap_pd_list .nmain").eq(1).width(),f=Math.floor(e/d),g=[];d>=242&&e-d*f-d+40>=0&&(f+=1),f>=1&&f<=3&&(g.length=f,b.each(function(c,e){if(c<f)0==c?a(e).css({position:"relative",top:0,left:0}):a(e).css({position:"relative",top:0,left:0,width:d-40+"px"}),g[c]=a(e).position().top+a(e).outerHeight(!0);else{var h=Math.min.apply(null,g),i=a.inArray(h,g);a(e).css({position:"absolute",top:h,left:b.eq(i).position().left,width:d-40+"px"}),g[i]+=a(e).outerHeight(!0)}}),c.css("minHeight",Math.max.apply(null,g)))},strEndWith:function(a,b){var c=a.length-b.length;return c>=0&&a.lastIndexOf(b)==c},showSubmenu:function(a){var b=this,c=b.getSub(a);return b.addClassOnly(a,"selected"),c.addClass("show").parent().siblings().find(".nav-menu-wrap").removeClass("show")},hideSubmenu:function(a){var b=this;return b.$toggles.removeClass("selected"),b.navLocation(),a&&a.length>0?a.removeClass("show"):b.$subMenus.removeClass("show")},resetStatus:function(){var a=this;a.timer&&clearTimeout(a.timer),a.hideSubmenu()},overHandle:function(b){var c=this,d=a(b);c.timer&&clearTimeout(c.timer),c.timer=setTimeout(function(){c.showSubmenu(d),c.arrangement(a(".docs-header #pd .wrap_pd_list .wflowBox"),a(".docs-header #pd .wrap_pd_list")),c.arrangement(a(".docs-header #api .wrap_pd_list .wflowBox"),a(".docs-header #api .wrap_pd_list"))},c.delay)},outHandle:function(b){var c=this;a(b);c.timer&&clearTimeout(c.timer),c.timer=setTimeout(function(){c.hideSubmenu(),c.resetStatus()},c.delay)},main:function(){var a=this;a.$toggles.hover(function(){a.overHandle(this)},function(){a.outHandle(this)}),a.$subMenus.hover(function(){a.timer&&clearTimeout(a.timer)},function(){a.outHandle(this)})},init:function(){var a=this;a.resetStatus(),a.main()}};b.init()}(window.jQuery),$(".mobile-nav-btn").on("click",function(){$(".nav-menu-wrap").removeClass("show")}),$(".icon__search").on("click",function(){$(".search-bar").addClass("icon__search_stretch"),$(".search_goback").addClass("search_goback_show")}),$(".search_shutdown").on("click",function(){$(".search-bar").removeClass("icon__search_stretch"),$(".search_goback").removeClass("search_goback_show")}),$("#searchbtn").keyup(function(a){var b="https://www.ucloud.cn/site/search.html";if(13==a.keyCode){var c,d=encodeURIComponent($("#searchbtn").val());c=$.trim(url[1])==$.trim("api")?b+"?t=apis&k="+d:b+"?t=docs&k="+d,window.open(c),$("#searchbtn").val("")}});var b=navigator.userAgent.toLocaleLowerCase(),c=navigator.platform.toLocaleLowerCase(),d=/android/i.test(b)||/iPhone|iPod|iPad/i.test(b)&&/linux/i.test(c)||/ucweb.*linux/i.test(b),e=/iPhone|iPod|iPad/i.test(b)&&!d,f=/Windows Phone|ZuneWP7/i.test(b),g={pc:!d&&!e&&!f,ios:e,android:d,winPhone:f},h=window.innerHeight;g.pc||$(".docs-header .submenu").click(function(){var a=$(this).data("href"),b=window.location.pathname.split("/")[1],c=$(".docs-header #menudropdowns  #"+a).find(".nav-menu-wrap").eq(0).hasClass("show");c?($(".docs-header #menudropdowns").find(".nav-menu-wrap").removeClass("show"),$.trim(b)==$.trim("api")?$("#topmenu>li").each(function(){var a=$(this).data("href");if($.trim(a)==$.trim("api"))return $(this).addClass("selected").siblings().removeClass("selected"),!1}):$("#topmenu>li:first-child").addClass("selected").siblings().removeClass("selected")):($(".docs-header #menudropdowns  #"+a).find(".nav-menu-wrap").eq(0).addClass("show"),$(".docs-header #topmenu .submenu").removeClass("selected"),$(this).addClass("selected"))}),$(window).resize(function(){g.pc||(window.innerHeight<h?($(".docs-header").css("position","absolute"),$(document).scrollTop(0)):$(".docs-header").css("position","fixed"))})});